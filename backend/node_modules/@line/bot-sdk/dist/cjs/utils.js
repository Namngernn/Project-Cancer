"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toArray = toArray;
exports.ensureJSON = ensureJSON;
exports.createMultipartFormData = createMultipartFormData;
const node_buffer_1 = require("node:buffer");
const exceptions_js_1 = require("./exceptions.js");
function toArray(maybeArr) {
    return Array.isArray(maybeArr) ? maybeArr : [maybeArr];
}
function ensureJSON(raw) {
    if (typeof raw === "object") {
        return raw;
    }
    else {
        throw new exceptions_js_1.JSONParseError("Failed to parse response body as JSON", { raw });
    }
}
function createMultipartFormData(formBody) {
    const formData = this instanceof FormData ? this : new FormData();
    Object.entries(formBody).forEach(([key, value]) => {
        if (node_buffer_1.Buffer.isBuffer(value) || value instanceof Uint8Array) {
            formData.append(key, new Blob([value]));
        }
        else {
            formData.append(key, String(value));
        }
    });
    return formData;
}
//# sourceMappingURL=utils.js.map